<div class="container-fluid">
  <h2 i18n class="text-center">Players</h2>

  <form [formGroup]="playersSheetForm">
    <div class="row">
      <div
        class="col-12 col-md-6 mb-1"
        *ngFor="let player of ['One', 'Two', 'Three', 'Four']; let i = index"
      >
        <div class="container text-center">
          <h3 i18n class="text-center">Player {{ i + 1 }}</h3>
          <div
            class="card"
            style="background-color: var(--bs-secondary)"
            formGroupName="player{{ player }}"
          >
            <hr />
            <div class="row">
              <div
                class="col-md-4 col-sm-12"
                *ngFor="let playerData of playersData"
              >
                <mat-form-field class="w-100">
                  <mat-label>{{ playerData }}</mat-label>
                  <input matInput formControlName="player{{ playerData }}" />
                </mat-form-field>
              </div>
            </div>
            <hr />

            <div
              class="skills"
              *ngFor="
                let skills of [
                  ['Aggression', 'Empathy'],
                  ['Courage', 'Caution'],
                  ['Practicality', 'Spirituality']
                ]
              "
            >
              <div class="row">
                <div class="col-6 p-2" *ngFor="let skill of skills">
                  <img
                    ngSrc="assets/{{ skill }}.jpg"
                    alt="{{ skill }}"
                    height="42"
                    width="45"
                  />
                </div>
                <div class="col-6" *ngFor="let skill of skills">
                  <mat-form-field class="w-75">
                    <input
                      matInput
                      type="number"
                      formControlName="player{{ skill }}"
                    />
                  </mat-form-field>
                </div>
              </div>
            </div>

            <hr />
            <div class="row">
              <div
                class="col-4"
                *ngFor="let stat of ['Energy', 'Health', 'Terror']"
              >
                <div class="skills">
                  <div class="row">
                    <div class="col">
                      <mat-form-field class="w-75">
                        <input
                          matInput
                          type="number"
                          formControlName="player{{ stat }}"
                        />
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col">
                      <img
                        ngSrc="assets/{{ stat }}.webp"
                        alt="{{ stat }}"
                        height="42"
                        width="45"
                      />
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <hr />
            <div
              *ngFor="
                let items of [
                  ['Food', 'Gold'],
                  ['Rep', 'Exp', 'Magic']
                ];
                let i = index
              "
            >
              <div class="row row-cols-{{ i + 2 }}">
                <div class="col" *ngFor="let item of items">
                  <mat-form-field class="w-100">
                    <mat-label>{{ item }}</mat-label>
                    <input
                      matInput
                      type="number"
                      formControlName="player{{ item }}"
                    />
                  </mat-form-field>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <hr />
    <app-save-buttons
      [gameId]="gameId"
      (saveClicked)="onSave()"
      (updateClicked)="onUpdate()"
    ></app-save-buttons>
  </form>
</div>
